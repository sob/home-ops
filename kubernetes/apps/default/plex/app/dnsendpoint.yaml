---
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/externaldns.k8s.io/dnsendpoint_v1alpha1.json
apiVersion: externaldns.k8s.io/v1alpha1
kind: DNSEndpoint
metadata:
  name: plex-direct
  namespace: default
  annotations:
    external-dns.alpha.kubernetes.io/target: "${SECRET_VIP_PLEX}"
spec:
  endpoints:
    - dnsName: plex.${SECRET_DOMAIN}
      recordTTL: 300
      recordType: A
      targets:
        - ${SECRET_VIP_PLEX}  # 10.1.100.204 - Direct to LoadBalancer